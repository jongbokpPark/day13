<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #map {
        width: 100%;
        height: 900px;
      }
    </style>

    <script>
      // 관령성 있는 정보들을 하나의 객체에 넣어서 관리하자
      let stores;

      //맵이 로드될떄 호출될 함수 ..
      function initMap() {
        stores = [
          // 하나의 상점에 대한 정보
          {
            pos: [37.61911, 126.7191],
            url: "../images/amongas/character1.png",
            msg: "마라탕맛집",
          },
          {
            pos: [37.6188232, 126.7181613],
            url: "../images/amongas/character2.png",
            msg: "햄버거맛집",
          },
          {
            pos: [37.61846, 126.7179],
            url: "../images/amongas/character3.png",
            msg: "커피맛집",
          },
          {
            pos: [37.62028, 126.7172],
            url: "../images/amongas/character4.png",
            msg: "전골맛집",
          },
          {
            pos: [37.61907, 126.7209],
            url: "../images/amongas/plane.png",
            msg: "냉면맛집",
          },
          {
            pos: [37.55969, 126.8023],
            url: "../images/amongas/plane.gif",
            msg: "하늘길맛집",
          },
        ];

        //json 내장객체를 mapProp로 받은 상태임...
        var mapProp = {
          center: new google.maps.LatLng(37.61911, 126.7191),
          zoom: 18,
        };

        var map = new google.maps.Map(document.getElementById("map"), mapProp);

        for (let i = 0; i < stores.length; i++) {
          // 맵에 사용할 마커 만들기
          var marker = new google.maps.Marker({
            position: new google.maps.LatLng(
              stores[i].pos[0],
              stores[i].pos[1]
            ),
            animation: google.maps.Animation.BOUNCE,
            icon: {
              url: stores[i].url,
              scaledSize: new google.maps.Size(45, 45),
            },
            map: map,
          });

          // 원도우 생성
          var infowindow = new google.maps.InfoWindow({
            content: stores[i].msg,
          });

          infowindow.open(map, marker);
        }
      }
    </script>
  </head>
  <body>
    <div id="map">구글지도가 나올 예정..</div>
  </body>
</html>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVrzv9ZSSkxqjqhzFPsneQcwS19rmiiMU&callback=initMap"></script>
<!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&callback=myMap"></script> -->
